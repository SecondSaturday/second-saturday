---
name: Add error handling with toast notifications
status: open
created: 2026-02-24T16:13:00Z
updated: 2026-02-24T16:18:16Z
github: https://github.com/SecondSaturday/second-saturday/issues/159
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Add error handling with toast notifications

## Description

Add user-facing `toast.error()` notifications for 5 silent failure points: submission lock, profile save, account deletion, circle image upload, and clipboard copy. Replace silent `console.error` with visible toast messages.

## Acceptance Criteria

- [ ] B3: `lockSubmission` failure in `MultiCircleSubmissionScreen.tsx` shows `toast.error('Failed to submit. Please try again.')`
- [ ] B4: Profile save failure in `settings/page.tsx` shows `toast.error('Failed to save profile.')` in addition to existing `console.error`
- [ ] B5: Account deletion failure in `settings/page.tsx` shows `toast.error('Failed to delete account.')`
- [ ] B6: Circle image upload in `CircleSettings.tsx` wrapped in try/catch with `toast.error('Failed to upload image.')`
- [ ] B7: Clipboard copy in `CircleSettings.tsx` wrapped in try/catch with `toast.error('Failed to copy link.')` fallback

## Technical Details

### B3: `src/screens/submissions/MultiCircleSubmissionScreen.tsx`
- Lines 72-83: `handleSubmit` has try/finally but no catch
- Add `catch (err) { toast.error('Failed to submit. Please try again.') }` before the `finally` block
- Add `import { toast } from 'sonner'` at top

### B4: `src/app/dashboard/settings/page.tsx`
- Lines 77-78: Existing `catch (err) { console.error('Failed to save profile:', err) }`
- Add `toast.error('Failed to save profile.')` in the catch block
- `toast` may already be imported — check first

### B5: `src/app/dashboard/settings/page.tsx`
- Lines 188-190: Account deletion failure handler
- Add `toast.error('Failed to delete account.')` in the catch block

### B6: `src/components/CircleSettings.tsx`
- Lines 136-143: `updateCircle` calls for image upload
- Wrap in `try { await updateCircle(...) } catch (err) { toast.error('Failed to upload image.') }`
- `toast` is already imported in this file

### B7: `src/components/CircleSettings.tsx`
- Lines 72-79: `navigator.clipboard.writeText()` call
- Wrap in try/catch: `try { await navigator.clipboard.writeText(shareText) } catch { toast.error('Failed to copy link.') }`
- Already has toast.success — add error handling

### Files affected
- `src/screens/submissions/MultiCircleSubmissionScreen.tsx`
- `src/app/dashboard/settings/page.tsx`
- `src/components/CircleSettings.tsx`

## Dependencies
- [ ] None — independent of all other tasks

## Effort Estimate
- Size: S
- Parallel: true

## Definition of Done
- [ ] All 5 error handling gaps show toast errors
- [ ] Existing success flows unchanged
- [ ] Existing tests pass (`npm test`)
