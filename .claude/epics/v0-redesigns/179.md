---
name: Submission input rework
status: open
created: 2026-02-25T00:11:33Z
updated: 2026-02-25T02:35:00Z
github: https://github.com/SecondSaturday/second-saturday/issues/179
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Submission input rework

## Description

Rework the submission input: make text optional (media-only responses allowed), replace 3 stacked buttons with a single "+" dropdown menu inside the textarea, and make the textarea more compact.

## Acceptance Criteria

- [ ] Text is optional — users can submit media-only responses
- [ ] Media upload available immediately without typing text first
- [ ] If no response record exists, one is created on-demand when upload starts
- [ ] "Start typing to enable photo & video uploads" message removed
- [ ] Single "+" icon button inside textarea at bottom-left corner
- [ ] "+" opens dropdown menu with: Take Photo, Choose Photo, Choose Video
- [ ] Compact textarea (~80px initial height)
- [ ] Placeholder text: "Add text or tap + for photos..."
- [ ] Character counter only visible when textarea is focused
- [ ] Media grid appears inside the card, above the textarea
- [ ] Keep existing design library (no dark bubble styling)
- [ ] Works on mobile and desktop

## Technical Details

### Remove text prerequisite (FR13)
- `src/components/submissions/PromptResponseCard.tsx:112-124` — remove the `responseId` check that gates media upload
- Always show the MediaUploader component
- If `responseId` doesn't exist when user initiates upload, create a response on-demand
- Text is fully optional — validation should allow empty text with media

### Single "+" button with dropdown (FR14)
- `src/components/submissions/MediaUploader.tsx` — replace the 3-button layout (lines 438-478) with a single "+" Button
- Use shadcn `DropdownMenu` component
- Menu items: Take Photo, Choose Photo, Choose Video (with appropriate icons)
- Each item triggers the same handler as the current individual buttons
- Button positioned at bottom-left of textarea area

### Layout restructure (FR15)
- `src/components/submissions/PromptResponseCard.tsx` — restructure the card layout:
  - Prompt text at top (unchanged)
  - Media grid inside card, above textarea (moved from below)
  - Compact textarea (~80px min-height, down from 120px)
  - Placeholder: "Add text or tap + for photos..."
  - "+" button at bottom-left corner of textarea
  - Character counter at bottom-right, only visible on focus
- Keep existing Card/CardHeader/CardContent components (no custom dark styling)

### Files affected
- `src/components/submissions/PromptResponseCard.tsx` (layout restructure, compact textarea, conditional counter)
- `src/components/submissions/MediaUploader.tsx` (button consolidation to "+" dropdown)

## Dependencies
- [ ] None — can start immediately

## Effort Estimate
- Size: M (reduced from L — no custom styling work)
- Parallel: true

## Definition of Done
- [ ] Media uploads work without text
- [ ] Media-only submissions are valid
- [ ] "+" dropdown works
- [ ] Media grid appears above textarea
- [ ] Character counter only shows on focus
- [ ] Existing tests pass
