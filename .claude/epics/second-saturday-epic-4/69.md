---
name: Build video upload UI with Mux and blocking progress
status: open
created: 2026-02-11T14:26:53Z
updated: 2026-02-11T14:34:25Z
github: https://github.com/SecondSaturday/second-saturday/issues/69
depends_on: [67]
parallel: false
conflicts_with: [68]
---

# Task: Build video upload UI with Mux and blocking progress

## Description
Implement video upload UI that integrates with Mux, showing a blocking progress indicator during upload and preventing navigation until complete. Uses Capacitor Camera for mobile video selection.

## Acceptance Criteria
- [ ] MediaUploader component supports video selection (camera + gallery)
- [ ] Video upload triggers uploadVideoToMux action
- [ ] Blocking UI overlay shown during upload (user cannot navigate away)
- [ ] Progress bar shows accurate upload percentage
- [ ] Upload completion triggers navigation unlock
- [ ] Successfully uploaded videos stored in media table with Mux asset ID
- [ ] Video thumbnails display after Mux processing
- [ ] Works on iOS and Android devices
- [ ] Error handling for failed uploads
- [ ] User can cancel upload (with confirmation)

## Technical Details
- Component location: `src/components/submissions/MediaUploader.tsx`
- Use Capacitor Camera for video selection
- Call uploadVideoToMux Convex action
- Show blocking modal with progress during upload
- Prevent navigation/tab switching during upload
- Poll for Mux processing status or use webhook updates
- Display thumbnail once available
- Support MP4, MOV formats
- Max video size: handled by Mux (suggest user guidance for large files)

## Dependencies
- [ ] Task 003 (Mux integration) completed
- [ ] Capacitor Camera plugin configured

## Effort Estimate
- Size: M
- Hours: 12-16
- Parallel: false (conflicts with photo upload UI work)

## Definition of Done
- [ ] Video upload working on web
- [ ] Video upload working on iOS device
- [ ] Video upload working on Android device
- [ ] Blocking UI prevents navigation during upload
- [ ] Progress indicator accurate
- [ ] Thumbnails display after processing
- [ ] E2E tests written for video upload flow
- [ ] Code reviewed and merged
