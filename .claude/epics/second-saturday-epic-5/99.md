---
name: Add analytics events for newsletter lifecycle
status: open
created: 2026-02-21T09:57:44Z
updated: 2026-02-21T10:10:10Z
github: https://github.com/SecondSaturday/second-saturday/issues/99
depends_on: [94, 96, 97]
parallel: false
conflicts_with: []
---

# Task: Add Analytics Events for Newsletter Lifecycle

## Description
Instrument the newsletter feature with PostHog analytics events to track compilation, sending, opening, and engagement.

## Acceptance Criteria
- [ ] `newsletter_compiled` event tracked after compilation (props: circle_id, member_count, submission_count, issue_number)
- [ ] `newsletter_sent` event tracked after sending (props: circle_id, recipient_count, issue_number)
- [ ] `newsletter_opened` tracked when user views newsletter in-app (props: circle_id, newsletter_id, issue_number)
- [ ] `newsletter_clicked` tracked when "View in App" button clicked from email (props: circle_id, newsletter_id, source: "email")
- [ ] `newsletter_unsubscribed` tracked when user unsubscribes from email (props: circle_id)

## Technical Details
- Server-side events (`newsletter_compiled`, `newsletter_sent`): use PostHog server-side API or log for now (Convex actions run server-side)
- Client-side events (`newsletter_opened`, `newsletter_clicked`): use existing `trackEvent()` from `src/lib/analytics.ts`
- Replace existing misnomer `newsletter_read` event in `CircleHome.tsx` with proper `newsletter_opened` in the newsletter view
- For email open tracking: consider adding a tracking pixel (1x1 transparent image hosted on app domain) - optional/P2
- "View in App" click tracking: add UTM params to email CTA link, detect on page load

## Dependencies
- [ ] Task 94: Compilation action (server-side events)
- [ ] Task 96: Send action (server-side events)
- [ ] Task 97: Web view (client-side events)

## Effort Estimate
- Size: XS
- Hours: 1
- Parallel: false (depends on feature code existing)

## Definition of Done
- [ ] All analytics events fire correctly
- [ ] Events include required properties
- [ ] Events visible in PostHog dashboard
