---
name: Add submission reminder cron and newsletter-ready trigger
status: open
created: 2026-02-22T05:54:13Z
updated: 2026-02-22T06:00:21Z
github: https://github.com/SecondSaturday/second-saturday/issues/104
depends_on: [103]
parallel: false
conflicts_with: []
---

# Task: Add submission reminder cron and newsletter-ready trigger

## Description
Add a cron job to `convex/crons.ts` that sends automatic submission reminders 3 days before the second Saturday deadline. Also hook into the newsletter compilation flow to trigger newsletter-ready push notifications after `compileNewsletter` completes.

## Acceptance Criteria
- [ ] New cron job in `convex/crons.ts` runs on the Wednesday before second Saturday (3 days before deadline)
- [ ] Cron job calls `sendSubmissionReminder` internal action
- [ ] `sendSubmissionReminder` filters members who haven't submitted for current cycle
- [ ] `sendSubmissionReminder` respects user notification preferences (skip if submissionReminders=false)
- [ ] Newsletter-ready notification triggered after `compileNewsletter` in `convex/newsletters.ts`
- [ ] Newsletter-ready notification respects user preferences (skip if newsletterReady=false)
- [ ] Reminder includes circle name and deadline info in notification payload
- [ ] Admin reminder count resets when newsletter for that cycle is sent (delete adminReminders for completed cycle)

## Technical Details
- File: `convex/crons.ts` — add new cron entry alongside existing ones (lockPastDeadlineSubmissions at 10:59, processNewsletters at 11:00)
- Reminder cron: run on Wednesdays at 11:00 UTC, but only execute if the coming Saturday is the second Saturday
- File: `convex/newsletters.ts` — after `compileNewsletter` mutation succeeds, schedule newsletter-ready notification
- Use `ctx.scheduler.runAfter()` to trigger notification actions
- Clean up adminReminders for the cycle after newsletter sends

## Dependencies
- [ ] Task 103 (notification functions must exist)

## Effort Estimate
- Size: M
- Hours: 4
- Parallel: false
