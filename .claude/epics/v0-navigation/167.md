---
name: Top-level submit page and FAB repurpose
status: open
created: 2026-02-24T18:49:03Z
updated: 2026-02-24T18:53:16Z
github: https://github.com/SecondSaturday/second-saturday/issues/167
depends_on: [164]
parallel: false
conflicts_with: []
---

# Task: Top-level submit page and FAB repurpose

## Description

Create a new `/dashboard/submit` page that shows all user circles as horizontal tabs with the existing `MultiCircleSubmissionScreen`. Then repurpose the FAB to navigate to this page instead of circle creation.

## Acceptance Criteria

- [ ] `/dashboard/submit` route exists and renders correctly
- [ ] Page fetches all circles the user belongs to via `api.circles.getCirclesByUser` (or equivalent)
- [ ] Renders `MultiCircleSubmissionScreen` with all circles as tabs
- [ ] Each tab shows circle icon + short name
- [ ] Switching tabs loads that circle's prompts
- [ ] `CreateCircleFAB.tsx` href changed from `/dashboard/create` to `/dashboard/submit`
- [ ] FAB label (next Second Saturday date) still works in submission context
- [ ] Empty state shown if user has no circles
- [ ] Works on mobile (375px) and desktop

## Technical Details

### New page: `src/app/dashboard/submit/page.tsx`
- Client component (needs Convex hooks)
- Fetch user's circles: look for existing query like `getCirclesByUser` or `getUserCircles`
- Compute `cycleId` using UTC methods: `${new Date().getUTCFullYear()}-${String(new Date().getUTCMonth() + 1).padStart(2, '0')}`
- Map circles to the format `MultiCircleSubmissionScreen` expects:
  ```tsx
  interface Circle {
    id: string
    name: string
    iconUrl: string | null
    status: 'not-started' | 'in-progress' | 'locked' | 'submitted'
    progress?: number
  }
  ```
- Render `MultiCircleSubmissionScreen` with `circles` and `cycleId` props
- Loading state while circles are fetching
- Handle the case where user has no circles (redirect to dashboard or show CTA)

### FAB change: `src/components/dashboard/CreateCircleFAB.tsx`
- Line 17: Change `href="/dashboard/create"` to `href="/dashboard/submit"`
- Optionally update test ID from "create-circle-button" to "submit-button"

### Files affected
- `src/app/dashboard/submit/page.tsx` (new — ~40 lines)
- `src/components/dashboard/CreateCircleFAB.tsx` (1-line change)

## Dependencies
- [ ] Task 164 (dashboard header) — three-dot menu must exist so circle creation has a home before FAB is repurposed

## Effort Estimate
- Size: M
- Parallel: false (depends on Task 164)
- Note: May need design input for the tab layout (design gate)

## Definition of Done
- [ ] Submit page loads all user circles
- [ ] FAB navigates to submit page
- [ ] MultiCircleSubmissionScreen renders correctly
- [ ] Existing tests pass
