---
name: Add error boundaries at all route levels
status: open
created: 2026-02-24T18:49:03Z
updated: 2026-02-24T18:53:16Z
github: https://github.com/SecondSaturday/second-saturday/issues/165
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Add error boundaries at all route levels

## Description

Create Next.js error boundary files at app, dashboard, and circle route levels, plus a global error handler and a styled 404 page. Currently zero error boundaries exist in the app.

## Acceptance Criteria

- [ ] `src/app/error.tsx` — catches errors in app routes, shows "Something went wrong" with "Try again" button
- [ ] `src/app/dashboard/error.tsx` — catches errors in dashboard routes, shows error with "Try again" button
- [ ] `src/app/dashboard/circles/[circleId]/error.tsx` — catches errors in circle routes, shows error with "Go to Dashboard" link
- [ ] `src/app/global-error.tsx` — catches root layout/provider failures, self-contained (no providers, no Convex), has "Reload" button
- [ ] `src/app/not-found.tsx` — styled 404 page with "Go to Dashboard" link
- [ ] All error pages follow existing app styling patterns (Tailwind classes)
- [ ] `global-error.tsx` imports zero external providers — fully standalone

## Technical Details

### Error boundary pattern (Next.js App Router)
Each `error.tsx` is a client component receiving `{ error, reset }` props:
```tsx
'use client'
export default function Error({ error, reset }: { error: Error; reset: () => void }) {
  return (
    <div className="flex flex-col items-center justify-center min-h-screen gap-4">
      <h2>Something went wrong</h2>
      <button onClick={reset}>Try again</button>
    </div>
  )
}
```

### `global-error.tsx` — special case
- Must include its own `<html>` and `<body>` tags
- No imports from providers, Convex, Clerk, etc.
- Uses inline styles or minimal Tailwind (the CSS might not load if the error is in the root layout)

### `not-found.tsx`
- Can use app styling since layout is likely intact
- Links to `/dashboard` as the recovery action

### Files affected (all new)
- `src/app/error.tsx`
- `src/app/dashboard/error.tsx`
- `src/app/dashboard/circles/[circleId]/error.tsx`
- `src/app/global-error.tsx`
- `src/app/not-found.tsx`

## Dependencies
- [ ] None — can start immediately

## Effort Estimate
- Size: S
- Parallel: true

## Definition of Done
- [ ] All 5 error boundary files created
- [ ] `global-error.tsx` verified standalone (no provider imports)
- [ ] Existing tests pass
