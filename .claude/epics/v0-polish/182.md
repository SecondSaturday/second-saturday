---
name: Autonomous Cleanup — FAB rename, dead code, data integrity, accessibility, nav fixes
status: completed
created: 2026-02-25T03:27:20Z
updated: 2026-02-25T04:20:00Z
github: https://github.com/SecondSaturday/second-saturday/issues/182
depends_on: []
parallel: true
conflicts_with: [002, 003, 004, 005]
---

# Task: Autonomous Cleanup — FAB rename, dead code, data integrity, accessibility, nav fixes

## Description

Mechanical cleanup pass requiring no design input. Rename the FAB component, remove dead code, fix data integrity gaps, add aria-labels, and fix nav/layout issues. All changes are search-and-replace or small targeted edits.

## Acceptance Criteria

- [ ] `CreateCircleFAB.tsx` renamed to `SubmitFAB.tsx`; all imports updated; `data-testid` changed from `"create-circle-button"` to `"submit-button"`
- [ ] `dropdown-menu.tsx` evaluated — deleted if unused by Epic 3 menus, kept if used
- [ ] `VideoThumbnail.tsx` and its test file deleted
- [ ] 3 unused push notification wrappers removed from `src/lib/push.ts`
- [ ] 3 unused email template wrappers removed from `src/lib/email.ts`
- [ ] `CircleSettings` save button disabled when `saving === true`, shows "Saving..." text
- [ ] `convex/schema.ts` newsletters table has `['circleId', 'publishedAt']` compound index
- [ ] All icon-only buttons across the app have `aria-label` attributes (at minimum: three-dot menu in `DashboardHeader`)
- [ ] Date picker button centered horizontally in `DashboardHeader` (between avatar and menu icon)
- [ ] Prompts page back arrow navigates to `/dashboard/circles/[circleId]/settings`
- [ ] All tests pass

## Technical Details

- **FAB rename**: `src/components/dashboard/CreateCircleFAB.tsx` → `src/components/dashboard/SubmitFAB.tsx`. Update import in `src/app/dashboard/page.tsx` and any test files referencing `create-circle-button`.
- **E1 check**: Run `grep -r "dropdown-menu" src/` to find usages. Delete if unused.
- **E2**: Delete `src/components/submissions/VideoThumbnail.tsx` and its test file.
- **E3/E4**: Delete unused exports in `src/lib/push.ts` and `src/lib/email.ts`.
- **R1**: In `src/components/CircleSettings.tsx` `handleSave`, add `disabled={saving}` to save button and conditional label.
- **R2**: In `convex/schema.ts`, add `.index('by_circle_published', ['circleId', 'publishedAt'])` to newsletters table.
- **Q1**: Audit JSX for icon-only buttons missing `aria-label`. Add `aria-label="Menu"` to three-dot button in `DashboardHeader.tsx`.
- **F7**: In `DashboardHeader.tsx`, update layout to center date picker (e.g., `flex-1 flex justify-center`).
- **H4**: In `src/app/dashboard/circles/[circleId]/prompts/page.tsx`, update back arrow `href` to `/dashboard/circles/${circleId}/settings`.

## Dependencies

- [ ] No task dependencies
- [ ] No design gates

## Effort Estimate

- Size: M
- Hours: 3-4
- Parallel: true

## Definition of Done

- [ ] Code implemented
- [ ] Tests written and passing (FAB test ID updated, VideoThumbnail test deleted)
- [ ] Code reviewed
