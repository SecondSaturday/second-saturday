---
name: Add PostHog analytics events for membership flows
status: closed
created: 2026-02-10T18:05:11Z
updated: 2026-02-11T11:35:08Z
github: https://github.com/SecondSaturday/second-saturday/issues/55
depends_on: [57, 63]
parallel: true
conflicts_with: []
---

# Task: Add PostHog analytics events for membership flows

## Description
Add PostHog analytics tracking for key membership events: `invite_link_viewed`, `circle_joined`, `circle_left`, `member_removed`. Integrate into the UI components built in previous tasks.

## Acceptance Criteria
- [ ] `invite_link_viewed` fires when invite preview page loads
- [ ] `circle_joined` fires after successful join (with `source: "invite_link"`)
- [ ] `circle_left` fires after successful leave
- [ ] `member_removed` fires after admin removes member (with `keep_contributions: boolean`)
- [ ] Events include relevant metadata (circleId, userId where appropriate)
- [ ] PostHog integration follows existing patterns in the codebase

## Technical Details
- Files: Modify `src/app/invite/[inviteCode]/page.tsx`, `src/components/LeaveCircleModal.tsx`, `src/components/RemoveMemberModal.tsx`
- Check for existing PostHog setup in the codebase; if none, add `posthog-js` client
- Use `posthog.capture()` at appropriate points

## Dependencies
- [ ] Task 57: Invite preview page
- [ ] Task 63: Leave and remove modals

## Effort Estimate
- Size: S
- Hours: 2
- Parallel: true

## Definition of Done
- [ ] Code implemented
- [ ] Events fire correctly in dev environment
- [ ] No PII in event properties
